{namespace cr = Tx_Catalogueraisonne_ViewHelpers}

<f:if condition="{entries}">

	<f:then>
		<f:for each="{entries}" as="entry" iteration="iterator">

			<f:if condition="{settings.mode} == 10">
				<cr:alphabet string="{entry.title}" length="1" />
			</f:if>
			<f:if condition="{settings.mode} == 20">
				<cr:alphabet string="{entry.name}" />
			</f:if>
			<f:if condition="{settings.mode} == 30">
				<cr:alphabet string="{entry.name}" />
			</f:if>
			<f:if condition="{settings.mode} == 40">
				<cr:alphabet string="{entry.name}" splitChar="-" />
			</f:if>

			<f:if condition="{iterator.isFirst}">
				<div id="{initialLetter}">
				<h4>{initialLetter}</h4>
				<ul>
				<f:render partial="Registers/Listitem" arguments="{_all}" />
			</f:if>

			<f:if condition="{iterator.isLast}">
				<f:then>
					<f:if condition="{newBlock}">
						</ul>
						</div>
						<div id="{initialLetter}">
						<h4>{initialLetter}</h4>
						<ul>
					</f:if>
					<f:if condition="{iterator.total} > 1">
						<f:render partial="Registers/Listitem" arguments="{_all}" />
					</f:if>
					</ul>
					</div>
				</f:then>
				<f:else>
					<f:if condition="{iterator.index} > 0">
						<f:if condition="{newBlock}">
							</ul>
							</div>
							<div id="{initialLetter}">
							<h4>{initialLetter}</h4>
							<ul>
						</f:if>
						<f:render partial="Registers/Listitem" arguments="{_all}" />
					</f:if>
				</f:else>
			</f:if>
		</f:for>
	</f:then>

	<f:else>
		<p>
			<f:translate key="nothingFound" />
		</p>
	</f:else>

</f:if>